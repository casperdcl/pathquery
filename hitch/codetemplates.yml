shouldbeequal: |
  from path import Path
  import sure
  
  {% if variables %}
  {% for name, value in variables.items() %}
  {{ name }} = """{{ value }}"""
  {% endfor %}
  {% endif %}

  {{ setup }}

  try:
      ({{ code }}).should.be.equal({{ rhs }})
  except Exception as error:
      Path("{{ error_path }}").write_text(str(error))
raises_exception: |
  from path import Path
  import sure
  
  def output(text):
      Path("{{ output_path }}").write_text("{0}\n".format(text), append=True)
  
  {% if variables %}
  {% for name, value in variables.items() %}
  {{ name }} = """{{ value }}"""
  {% endfor %}
  {% endif %}

  {{ setup }}
  
  try:
      {{ code }}
  except Exception as error:
      Path("{{ error_path }}").write_text(str(error))
